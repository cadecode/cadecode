<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 版本与 Babel | CadeCode</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/meta/favicon.ico">
    <link rel="alternate" type="application/rss+xml" href="https://cadecode.github.io/ /rss.xml" title=" RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://cadecode.github.io/ /feed.atom" title=" Atom Feed">
    <link rel="alternate" type="application/json" href="https://cadecode.github.io/ /feed.json" title=" JSON Feed">
    <meta name="description" content="ES6，即 ECMAScript6，版本过渡的历史及 babel 环境的搭建">
    <link rel="preload" href="/assets/css/1.styles.04475bed.css" as="style"><link rel="preload" href="/assets/js/app.83815f49.js" as="script"><link rel="preload" href="/assets/js/22.de43f521.js" as="script"><link rel="prefetch" href="/assets/js/10.a3a5c1d7.js"><link rel="prefetch" href="/assets/js/11.aeaf7013.js"><link rel="prefetch" href="/assets/js/12.cdc8d9be.js"><link rel="prefetch" href="/assets/js/13.0f09caf0.js"><link rel="prefetch" href="/assets/js/14.732a1c62.js"><link rel="prefetch" href="/assets/js/15.3b89d94c.js"><link rel="prefetch" href="/assets/js/16.9f10b699.js"><link rel="prefetch" href="/assets/js/17.f468530e.js"><link rel="prefetch" href="/assets/js/18.4b912814.js"><link rel="prefetch" href="/assets/js/19.52b079c0.js"><link rel="prefetch" href="/assets/js/2.ee181f94.js"><link rel="prefetch" href="/assets/js/20.84c9b0c7.js"><link rel="prefetch" href="/assets/js/21.5fad489d.js"><link rel="prefetch" href="/assets/js/23.c3717cdb.js"><link rel="prefetch" href="/assets/js/24.d5345f72.js"><link rel="prefetch" href="/assets/js/25.ff5e25ab.js"><link rel="prefetch" href="/assets/js/26.f8dea1a0.js"><link rel="prefetch" href="/assets/js/27.3f90b506.js"><link rel="prefetch" href="/assets/js/28.2843b681.js"><link rel="prefetch" href="/assets/js/29.ca0f0ab9.js"><link rel="prefetch" href="/assets/js/3.14b66714.js"><link rel="prefetch" href="/assets/js/30.80362959.js"><link rel="prefetch" href="/assets/js/31.9114c3e4.js"><link rel="prefetch" href="/assets/js/32.4269d403.js"><link rel="prefetch" href="/assets/js/33.f60a878f.js"><link rel="prefetch" href="/assets/js/34.03dbf434.js"><link rel="prefetch" href="/assets/js/35.a0bf3f98.js"><link rel="prefetch" href="/assets/js/36.20fbc925.js"><link rel="prefetch" href="/assets/js/37.dfcb01f9.js"><link rel="prefetch" href="/assets/js/38.47f886ad.js"><link rel="prefetch" href="/assets/js/39.a0135768.js"><link rel="prefetch" href="/assets/js/4.558a6ab3.js"><link rel="prefetch" href="/assets/js/40.d6779125.js"><link rel="prefetch" href="/assets/js/41.f5bf91eb.js"><link rel="prefetch" href="/assets/js/42.01d1dc97.js"><link rel="prefetch" href="/assets/js/43.1149a03b.js"><link rel="prefetch" href="/assets/js/44.6361d918.js"><link rel="prefetch" href="/assets/js/45.e2f94adf.js"><link rel="prefetch" href="/assets/js/46.514cf6ad.js"><link rel="prefetch" href="/assets/js/47.4a8c0b8b.js"><link rel="prefetch" href="/assets/js/48.4a22315c.js"><link rel="prefetch" href="/assets/js/49.88e3c33e.js"><link rel="prefetch" href="/assets/js/5.0698c0f4.js"><link rel="prefetch" href="/assets/js/50.cb4d3fca.js"><link rel="prefetch" href="/assets/js/6.087d968b.js"><link rel="prefetch" href="/assets/js/7.7f5d2457.js"><link rel="prefetch" href="/assets/js/8.102a15c5.js"><link rel="prefetch" href="/assets/js/9.3f27ec90.js">
    <link rel="stylesheet" href="/assets/css/1.styles.04475bed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="global-container"><div class="head-container"><div class="head-content clearfix"><div class="head-logo"><a href="/"><img src="/meta/logo.png"> <!----></a></div> <div class="head-links"><div class="el-row"><div class="el-col el-col-24 el-col-xs-0 el-col-sm-24"><ul role="menubar" class="head-menu el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-s-home"></i>
                            Index
                        </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-search"></i>
                            Search
                        </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-info"></i>
                            About
                        </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-link"></i>
                            Links
                        </li></ul></div> <div class="el-col el-col-24 el-col-xs-24 el-col-sm-0"><ul role="menubar" class="head-menu el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" aria-haspopup="true" class="head-menu-sub el-submenu"><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">Menu<i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-s-home"></i>
                                Index
                            </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-search"></i>
                                Search
                            </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-info"></i>
                                About
                            </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-link"></i>
                                Links
                            </li></ul></div></li></ul></div></div></div></div></div> <div class="post-container component-content component-hide"><div class="post-title">ES6 版本与 Babel</div> <div class="post-tag"><a href="/search/ES6"><i class="el-icon-paperclip"></i>
            ES6
        </a><a href="/search/JavaScript"><i class="el-icon-paperclip"></i>
            JavaScript
        </a></div> <div class="post-desc">ES6，即 ECMAScript6，版本过渡的历史及 babel 环境的搭建</div> <div class="markdown-content content__default"><h1 id="es6-版本与-babel"><a href="#es6-版本与-babel" class="header-anchor">#</a> ES6 版本与 Babel</h1> <h2 id="ecmascript-版本历史"><a href="#ecmascript-版本历史" class="header-anchor">#</a> ECMAScript 版本历史</h2> <ol><li><p>HTML</p> <p>HTML1，HTML2，HTML3，1991 - 1997 由 IETF 组织制定</p> <p>IETF：The Internet Engineering Task Force，国际互联网工程任务组</p></li> <li><p>HTML3.2</p> <p>1997.1 发布，至今归属于 W3C 组织（万维网联盟）</p></li> <li><p>JavaScript</p> <p>1995，网景公司推出 LiveScript，为蹭 Java 热度，联合发布 JavaScript</p> <p>1996，JavaScript1.0、1.1 发布</p> <p>1997，微软 JScript 发布（完全照抄 JavaScript）</p> <p>1997.6，ECMAScript1.0 发布（以 JavaScript1.0 为蓝本）</p> <p>1998.6，ECMAScript2.0 发布</p> <p>1999.12，ECMAScript3.0 发布</p> <p>2000，ECMAScript4.0 草案没有被通过，调整幅度太大</p> <p>2007，ECMAScript4.0准备发布，依然没有通过</p> <p>2008.7，在 3.0 基础上推出 ECMAScript3.1，更名为 ECMAScript5</p> <p>2009.12，将 4.0 分为三部分，一部分作为 ES5 正式发布，另外 javascript.next，javascript.next.next 两部分放入草案中</p> <p>2011.6，ECMAScript5.1 发布，成为 ISO 标准</p> <p>2013.3，javascript.next 草案冻结</p> <p>2013.6，javascript.next 草案发布</p> <p>2015.6，ECMAScript6 正式发布</p></li> <li><p>ECMAScript</p> <p>ECMA 即欧洲计算机制造联合会，制定脚本语言规范了 ECMA-262，遵从该规范的脚本语言成为 ECMAScript</p> <p>ECMAScript2015/2016/2017 等都属于 ES6，每年都会有小版本的改动</p></li></ol> <h2 id="babel-搭建环境"><a href="#babel-搭建环境" class="header-anchor">#</a> Babel 搭建环境</h2> <h3 id="babel-介绍"><a href="#babel-介绍" class="header-anchor">#</a> Babel 介绍</h3> <ol><li>Babel 用于将 ES6 代码转译为浏览器可执行的 ES5 代码</li> <li>参考网站：<a href="https://www.babeljs.cn/" target="_blank" rel="noopener noreferrer">Babel 中文网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h3 id="安装配置"><a href="#安装配置" class="header-anchor">#</a> 安装配置</h3> <ol><li><p>首先使用 npm init 将项目交由 npm 管理依赖（生成 package.json 文件）</p></li> <li><p>安装 babel 转译规则集和脚手架</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm i <span class="token operator">-</span><span class="token constant">D</span> babel<span class="token operator">-</span>preset<span class="token operator">-</span>env
npm i <span class="token operator">-</span><span class="token constant">D</span> babel<span class="token operator">-</span>cli
</code></pre></div></li> <li><p>项目根目录创建 .babelrc 文件，指定规则集</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;babel-preset-env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>package.json 的 scripts 属性中添加命令</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;babel-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;babel app.js&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>根目录下的 app.js 中使用了 ec6 语法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fnc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'es6 箭头函数'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">fnc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>执行 npm run babel-build 后根目录下生成 bundle.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">fnc</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fnc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'es6 箭头函数'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">fnc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>同理，使用 babel src -d lib 指令可以将 src 下的 js 文件全部转译到 lib 文件夹下</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;babel-build-src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;babel src -d lib&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>使用 babel-node 执行代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;babel-node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;babel-node ./src/app.js&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>npm run babel-node 即可执行 app.js（node 环境）</p></li></ol> <h3 id="浏览器中使用"><a href="#浏览器中使用" class="header-anchor">#</a> 浏览器中使用</h3> <ol><li><p>使用 babel-standalone 在浏览器中转译 es6 语法</p></li> <li><p>使用 cdn 方式引入，将 es6 代码 script 标签指定为 text/babel</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;js-box&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/@babel/standalone@7.11.6/babel.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/babel&quot;</span><span class="token operator">&gt;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'Message'</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'js-box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">getMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></li></ol> <h3 id="使用-es6-api"><a href="#使用-es6-api" class="header-anchor">#</a> 使用 ES6 API</h3> <ol><li><p>Babel 默认只对 ES6 语法进行转译，不包含 ES6 的新增 API</p> <p>如 Iterator、Generator、Set、Maps、Proxy、Reflect、Symbol、Promise 等全局对象，以及一些定义在全局对象上的方法（Object.assign...）</p></li> <li><p>使用 babel-plyfill 提供新增 API 的支持</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install <span class="token operator">--</span><span class="token constant">S</span> babel<span class="token operator">-</span>polyfill
</code></pre></div><p>引入 babel-plyfill</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;babel-polyfill&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 或</span>
<span class="token keyword">import</span> <span class="token string">&quot;babel-polyfill&quot;</span>
</code></pre></div></li></ol></div> <div class="catalog-container" style="display:none;"><!----> <div class="catalog-open"><i class="el-icon-s-operation"></i></div></div></div> <div class="foot-container"><div class="foot-links"><a href="https://cadecode.github.io/rss.xml" target="_blank">Rss</a> <a href="https://github.com/cadecode" target="_blank">
            Github
        </a><a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=eBsZHB0bFxwdOB4XABUZERRWGxcV" target="_blank">
            Email
        </a><a href="https://www.cnblogs.com/pgjett" target="_blank">
            Cnblogs
        </a></div> <div class="foot-meta"><p>Copyright © 2020 CadeCode</p> <p>
            Theme
            <a href="https://github.com/cadecode/vuepress-theme-2zh" target="_blank">2zh</a>
            powered by
            <a href="https://www.vuepress.cn/" target="_blank">vuepress</a></p> <p><a href="https://cadecode.github.io/sitemap.xml" target="_blank">Sitemap</a></p></div></div> <div class="backtop-container" style="display:none;"><i class="el-icon-caret-top"></i></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.83815f49.js" defer></script><script src="/assets/js/22.de43f521.js" defer></script>
  </body>
</html>
