<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript DOM 基础 | CadeCode</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/meta/favicon.ico">
    <link rel="alternate" type="application/rss+xml" href="https://cadecode.info/ /rss.xml" title=" RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://cadecode.info/ /feed.atom" title=" Atom Feed">
    <link rel="alternate" type="application/json" href="https://cadecode.info/ /feed.json" title=" JSON Feed">
    <meta name="description" content="DOM 即文档对象模型，是操作 HTML/XML 文档的一套方法。通过 DOM 操作节点，使页面发生改变，是动态文档技术的核心内容">
    <link rel="preload" href="/assets/css/1.styles.9b3f04ec.css" as="style"><link rel="preload" href="/assets/js/app.92050e6b.js" as="script"><link rel="preload" href="/assets/js/22.48a2155e.js" as="script"><link rel="prefetch" href="/assets/js/10.2881778b.js"><link rel="prefetch" href="/assets/js/11.f3d34f2b.js"><link rel="prefetch" href="/assets/js/12.8c2c8a41.js"><link rel="prefetch" href="/assets/js/13.7da35874.js"><link rel="prefetch" href="/assets/js/14.a1dd2174.js"><link rel="prefetch" href="/assets/js/15.5b4b09e3.js"><link rel="prefetch" href="/assets/js/16.24778cfb.js"><link rel="prefetch" href="/assets/js/17.14e918d2.js"><link rel="prefetch" href="/assets/js/18.74495b27.js"><link rel="prefetch" href="/assets/js/19.e472f0b5.js"><link rel="prefetch" href="/assets/js/2.8ec9795a.js"><link rel="prefetch" href="/assets/js/20.6172e642.js"><link rel="prefetch" href="/assets/js/21.927394fd.js"><link rel="prefetch" href="/assets/js/23.49854c04.js"><link rel="prefetch" href="/assets/js/24.5513cbb2.js"><link rel="prefetch" href="/assets/js/25.4fc2b088.js"><link rel="prefetch" href="/assets/js/26.e138dbe5.js"><link rel="prefetch" href="/assets/js/27.0a2b495e.js"><link rel="prefetch" href="/assets/js/28.5407c8cb.js"><link rel="prefetch" href="/assets/js/29.2ff31151.js"><link rel="prefetch" href="/assets/js/3.c030d6e8.js"><link rel="prefetch" href="/assets/js/30.d8f65bb0.js"><link rel="prefetch" href="/assets/js/31.b3b4f96f.js"><link rel="prefetch" href="/assets/js/32.12276581.js"><link rel="prefetch" href="/assets/js/33.eedb95d2.js"><link rel="prefetch" href="/assets/js/34.070f3f72.js"><link rel="prefetch" href="/assets/js/35.33340ac4.js"><link rel="prefetch" href="/assets/js/36.6776fde4.js"><link rel="prefetch" href="/assets/js/37.8f92936d.js"><link rel="prefetch" href="/assets/js/38.03de27ba.js"><link rel="prefetch" href="/assets/js/39.ad314e33.js"><link rel="prefetch" href="/assets/js/4.e8e70e00.js"><link rel="prefetch" href="/assets/js/40.72b1949f.js"><link rel="prefetch" href="/assets/js/41.a5976133.js"><link rel="prefetch" href="/assets/js/42.9d792bcc.js"><link rel="prefetch" href="/assets/js/43.a148a838.js"><link rel="prefetch" href="/assets/js/44.11f56da5.js"><link rel="prefetch" href="/assets/js/45.db424073.js"><link rel="prefetch" href="/assets/js/5.bd482feb.js"><link rel="prefetch" href="/assets/js/6.6542b0eb.js"><link rel="prefetch" href="/assets/js/7.23cd3f44.js"><link rel="prefetch" href="/assets/js/8.d18f5a74.js"><link rel="prefetch" href="/assets/js/9.077f8422.js">
    <link rel="stylesheet" href="/assets/css/1.styles.9b3f04ec.css">
    <!--webpack externals css-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
</head>
<body>
<div id="app" data-server-rendered="true"><div class="global-container"><div class="head-container head-hide"><div class="head-content clearfix"><div class="head-logo"><a href="/"><img src="/meta/logo.png"> <!----></a></div> <div class="head-links"><div class="el-row"><div class="el-col el-col-24 el-col-xs-0 el-col-sm-24"><ul role="menubar" class="head-menu el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-s-home"></i>
                            Index
                        </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-search"></i>
                            Search
                        </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-info"></i>
                            About
                        </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-link"></i>
                            Links
                        </li></ul></div> <div class="el-col el-col-24 el-col-xs-24 el-col-sm-0"><ul role="menubar" class="head-menu el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" aria-haspopup="true" class="head-menu-sub el-submenu"><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">Menu<i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-s-home"></i>
                                Index
                            </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-search"></i>
                                Search
                            </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-info"></i>
                                About
                            </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-link"></i>
                                Links
                            </li></ul></div></li></ul></div></div></div></div></div> <div class="post-container component-content component-hide"><div class="post-title">JavaScript DOM 基础</div> <div class="post-tag"><a href="/search/JavaScript"><i class="el-icon-paperclip"></i>
            JavaScript
        </a></div> <div class="post-desc">DOM 即文档对象模型，是操作 HTML/XML 文档的一套方法。通过 DOM 操作节点，使页面发生改变，是动态文档技术的核心内容</div> <div class="markdown-content J_markdownContent content__default"><h1 id="javascript-dom-基础"><a href="#javascript-dom-基础" class="header-anchor">#</a> JavaScript DOM 基础</h1> <h2 id="dom-的含义"><a href="#dom-的含义" class="header-anchor">#</a> DOM 的含义</h2> <ol><li><p>DOM 即 document object model，文档对象模型</p></li> <li><p>JavaScript 中有三类对象</p> <p>本地对象 Native Object</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object Function String Number Boolean
Error EvalError SyntaxError TypeError RageError ReferenceError URIError
Date RegExp
</code></pre></div><p>内置对象 Built-in Object</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Global<span class="token operator">:</span> 一类对象的统称，是虚拟的，代表全局
任何方法和属性都在对象之下
如 <span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、parseInt、Number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、decodeURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 等都是 Global 下的方法
如 Math、<span class="token number">Infinity</span>、<span class="token number">NaN</span>、<span class="token keyword">undefined</span> 等都是 Global 下的属性
本地对象、内置对象是 ECMAScript 的内部对象
</code></pre></div><p>宿主对象 Host Object</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>执行 <span class="token constant">JS</span> 的环境提供的对象，即浏览器对象
window 对象 <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token constant">BOM</span>，不同浏览器间没有固定规范
document 对象 <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token constant">DOM</span>，遵从 w3c 规范
document 是 window 下的对象，即 <span class="token constant">BOM</span> 包含 <span class="token constant">DOM</span>
</code></pre></div></li> <li><p>DOM 是通过浏览器提供的一套方法来操作 HTML 和 XML 文档</p></li></ol> <h2 id="元素和节点"><a href="#元素和节点" class="header-anchor">#</a> 元素和节点</h2> <ol><li><p>节点包含元素，元素是节点的一部分，即元素节点</p></li> <li><p>节点分类</p> <p>元素节点、属性节点、文本节点、注释节点、文档节点等</p></li> <li><p>元素即元素对象，有 HTMLDivElement、HTMLInputElement、HTMLHtmlElement，继承自构造方法 HTMLElement，HTMLElement 继承自 Node，Node 即节点对象</p></li> <li><p>document 继承自构造方法 HTMLDocument 的原型，HTMLDocument 继承自 Document 的原型</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>__proto__ <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token class-name">HTMLDocument</span><span class="token punctuation">.</span>prototype 
<span class="token class-name">HTMLDocument</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token class-name">Document</span><span class="token punctuation">.</span>prototype
</code></pre></div></li></ol> <h2 id="获取元素"><a href="#获取元素" class="header-anchor">#</a> 获取元素</h2> <ol><li><p>通过 id 获取元素</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回对应的 HTMLElement </span>
<span class="token comment">// 对于 getElementById()，IE8 及以下不区分大小写并且可以匹配 name</span>
</code></pre></div></li> <li><p>通过类名获取元素集合</p> <p>兼容 IE9 及以上</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回元素集合 HTMLCollection</span>
</code></pre></div></li> <li><p>通过标签名获取元素集合</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回元素集合 HTMLCollection</span>
</code></pre></div></li> <li><p>通过 name 获取元素</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回元素集合 HTMLCollection</span>
<span class="token comment">// 常用于表单元素</span>
</code></pre></div></li> <li><p>通过选择器获取对象</p> <p>兼容 IE8 及以上，是 HTML5 新加入的 web api</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回选择器选中的第一个节点对象 Node</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回选择器选中的节点列表 NodeList</span>
<span class="token comment">// querySelector、querySelectorAll 比 getElementById 等系列方法性能低</span>
</code></pre></div><blockquote><p>querySelectorAll 方法返回 NodeList，getElements 系列方法返回 HTMLCollection</p> <p>前者是静态的，获取集合后，增加或删除内容，集合不改变，不具有实时性</p> <p>而 HTMLCollection 是动态的，随文档操作而改变</p></blockquote></li></ol> <h2 id="遍历节点树"><a href="#遍历节点树" class="header-anchor">#</a> 遍历节点树</h2> <ol><li><p>parentNode</p> <p>获取父节点</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode <span class="token operator">-</span><span class="token operator">&gt;</span> document
<span class="token comment">// html 标签元素的 parentNode 是 document</span>
<span class="token comment">// 最高级节点是 document，document 的父节点是 null</span>
</code></pre></div></li> <li><p>childNodes</p> <p>获取子节点集合</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes 
<span class="token comment">// 包括元素节点、文本节点、注释节点在内</span>
</code></pre></div></li> <li><p>firstChild、lastChild</p> <p>获取第一个或最后一个子节点</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>firstChild <span class="token comment">// 第一个子节点</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lastChild <span class="token comment">// 第二个子节点</span>
</code></pre></div></li> <li><p>nextSibling、previousSibling</p> <p>获取上一个或下一个兄弟节点</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nextSibling <span class="token comment">// 上一个兄弟节点</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>previousSibling <span class="token comment">// 下一个兄弟节点</span>
</code></pre></div></li> <li><p>getAttributeNode()</p> <p>获取属性节点</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 获取属性节点 id</span>
</code></pre></div></li></ol> <h2 id="遍历元素节点"><a href="#遍历元素节点" class="header-anchor">#</a> 遍历元素节点</h2> <ol><li><p>parentElement</p> <p>获取父元素节点，兼容 IE9 及以上</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>parentElement <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">null</span>
<span class="token comment">// html 标签元素的 parentElement 是 null</span>
</code></pre></div></li> <li><p>children</p> <p>获取子元素集合，IE6-8 还包含注释节点，IE9 及以上只包含元素节点</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children <span class="token comment">// 只包含元素节点</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>chilElementCount <span class="token comment">// children.length</span>
</code></pre></div></li> <li><p>firstElementChild、lastElementChild</p> <p>获取第或最后一个子元素节点，兼容 IE9 及以上</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>firstElementChild <span class="token comment">// 第一个子元素节点</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lastElementChild <span class="token comment">// 第二个子元素节点</span>
</code></pre></div></li> <li><p>nextElementSibling、previousElementSibling</p> <p>获取下一个或上一个兄弟元素节点，兼容 IE9 及以上</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nextElementSibling <span class="token comment">// 上一个兄弟元素节点</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>previousElementSibling <span class="token comment">// 下一个兄弟元素节点</span>
</code></pre></div></li></ol> <h2 id="节点的属性"><a href="#节点的属性" class="header-anchor">#</a> 节点的属性</h2> <ol><li><p>nodeName</p> <p>返回节点名称、只读
元素节点，元素名称大写</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeName <span class="token comment">// DIV</span>
<span class="token comment">// 文本节点 -&gt; #text</span>
<span class="token comment">// 注释节点 -&gt; #comment</span>
document<span class="token punctuation">.</span>nodeName <span class="token comment">// #document</span>
<span class="token comment">// 文档节点 -&gt; #document</span>
</code></pre></div></li> <li><p>nodeValue</p> <p>返回节点内容，可读写
属性节点、文本节点、注释节点可用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nodeValue <span class="token comment">// box</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token comment">// 效果相同</span>
</code></pre></div></li> <li><p>nodeType</p> <p>返回节点类型对应数字，只读</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>元素节点 <span class="token number">1</span>
属性节点 <span class="token number">2</span>
文本节点 <span class="token number">3</span>
注释节点 <span class="token number">8</span>
document <span class="token number">9</span>
DocumentFragment <span class="token number">11</span>
</code></pre></div><p>通过 nodeType 封装 childNodes，筛选出元素节点</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">childElementArray</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        nodes <span class="token operator">=</span> node<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> item <span class="token operator">=</span> nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>attibutes</p> <p>返回元素节点的属性节点组成的类数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>attributes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nodeValue <span class="token comment">// 获取第一个属性节点的 nodeValue</span>
</code></pre></div></li> <li><p>hasChildNodes</p> <p>返回是否有子节点的布尔值</p></li></ol> <h2 id="dom-结构树"><a href="#dom-结构树" class="header-anchor">#</a> DOM 结构树</h2> <div class="language-mermaid extra-class"><pre class="language-text"><code>graph TB
	A(Node) --&gt; B(Document)
	A --&gt; C(Element)
	A --&gt; D(CharacterData)
	A --&gt; E(Attributes)
	B --&gt; F(HTMLDocument)
	D --&gt; G(Text)
	D --&gt; H(Comment)
	C --&gt; I(HTMLElement)
	I --&gt; J(HTMLHtmlElement)
	I --&gt; K(HTMLHeadElement)
	I --&gt; L(HTMLDivElement)
	I --&gt; M(HTML...Element)
</code></pre></div><ol><li><p>DOM 结构树显示了构造方法的继承关系与原型链的走向</p></li> <li><p>Document 的原型被 HTMLDocument 继承，同样被 XMLDocument 继承</p></li> <li><p>CharacterData 的原型是文本节点和注释节点的祖先</p></li> <li><p>HTMLElement 下有与标签对应的多种 HTML...Element，用于构造元素节点</p></li> <li><p>需要注意的方法</p> <p>getElementById、getElementsByName 只在 Document 的原型上，只有 document 可以使用</p> <p>querySelector、querySelectorAll、getElementsByClassName、getElementsByTagName 在 Document 和 Element 的原型上都有，即 document 和元素节点对象都可以使用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
box<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre></div></li> <li><p>需要注意的属性</p> <p>document.bady 、document.head、document.title 继承自 HTMLDocoment 的原型</p> <p>document.documentElement 继承自 Document 的原型</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>bady<span class="token punctuation">;</span> <span class="token comment">// body 标签元素</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">;</span> <span class="token comment">// head 标签元素， 兼容 IE9 及以上</span>
document<span class="token punctuation">.</span>title<span class="token punctuation">;</span> <span class="token comment">// title 元素内文字节点</span>
document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span> <span class="token comment">// html 标签元素</span>
</code></pre></div></li></ol> <h2 id="节点相关操作"><a href="#节点相关操作" class="header-anchor">#</a> 节点相关操作</h2> <ol><li><p>document.createElement()</p> <p>创建元素节点</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传入标签名</span>
</code></pre></div></li> <li><p>document.createTextNode()</p> <p>创建文本节点</p></li> <li><p>document.createComment()</p> <p>创建注释节点</p></li> <li><p>document.createDocumentFragment()</p> <p>创建一个文档碎片，向其中添加节点，再将文档碎片插入文档中，可以提高性能</p></li> <li><p>appendChild()</p> <p>在节点内部的最后添加子节点，并且具有剪切节点功能</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">creaetTextNode</span><span class="token punctuation">(</span><span class="token string">&quot;文本&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>insertBefore(a, b)</p> <p>在节点内部 a 节点之前插入 b 节点</p> <p>元素节点没有 insertAfter 方法，可以进行封装</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Element</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">insertAfter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> origin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> after <span class="token operator">=</span> origin<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span> 
        <span class="token keyword">if</span> <span class="token punctuation">(</span>after<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> after<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// nextElementSibling 兼容 IE9</span>
</code></pre></div></li> <li><p>removeChild()</p> <p>从文档中删除子节点，但内存中依然保留空间占用</p></li> <li><p>remove()</p> <p>节点调用，删除自身，可以释放内存</p></li> <li><p>replaceChild(a, b)</p> <p>用 a 节点替换子节点 b</p></li> <li><p>innerHTML</p> <p>可以取值，可以赋值，并且赋值可以解析 HTML 代码</p></li> <li><p>innerText</p> <p>可以取值，可以赋值，并且将赋值解析成文本节点，标签符号会被转码成字符实体</p> <p>firefox 老版本不支持，可使用功能相同的 textContent</p></li> <li><p>setAttribute()，getAttribute()</p> <p>设置、获取属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回 box</span>
</code></pre></div></li> <li><p>dataset</p> <p>HTML5 中以命名 <code>data-</code> 开头的属性，可以通过 dataset 方法访问</p> <p>兼容 IE9 及以上</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// &lt;p data-name=&quot;Jett&quot; data-age=&quot;22&quot;&gt;&lt;/p&gt;</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dateset <span class="token comment">// {name: 'Jett', age: '22'}</span>
</code></pre></div></li></ol></div> <div class="catalog-container" style="display:none;"><!----> <div class="catalog-open"><i class="el-icon-s-operation"></i></div></div> <div class="comment-container"><div class="comment-title"><i class="el-icon-s-comment"></i>
        Comment here, be cool~
    </div> <div class="J_comment"></div></div></div> <div class="foot-container"><div class="foot-links"><a href="https://cadecode.info/rss.xml" target="_blank">Rss</a> <a href="https://github.com/cadecode" target="_blank">
            Github
        </a><a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=eBsZHB0bFxwdOB4XABUZERRWGxcV" target="_blank">
            Email
        </a><a href="https://www.cnblogs.com/pgjett" target="_blank">
            Cnblogs
        </a></div> <div class="foot-meta"><p>Copyright © 2020 CadeCode</p> <p>
            Theme
            <a href="https://github.com/cadecode/vuepress-theme-2zh" target="_blank">2zh</a>
            powered by
            <a href="https://www.vuepress.cn/" target="_blank">VuePress</a></p> <p id="/post/javascript-dom-%E5%9F%BA%E7%A1%80/" data-flag-title="JavaScript DOM 基础" class="leancloud_visitors">
            本页访问次数 <i class="leancloud-visitors-count">0</i></p></div></div> <div class="backtop-container" style="display:none;"><i class="el-icon-caret-top"></i></div> <div class="loading-container"><div class="loading-box"><span>Loading</span></div></div></div><div class="global-ui"></div></div>
<script src="/assets/js/app.92050e6b.js" defer></script><script src="/assets/js/22.48a2155e.js" defer></script>
<!--webpack externals-->
<script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@8.8.2/dist/mermaid.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
</body>
</html>