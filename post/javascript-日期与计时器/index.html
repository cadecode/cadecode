<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 日期与计时器 | CadeCode</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/meta/favicon.ico">
    <meta name="description" content="JavaScript 中日期和计时器是常用的工具方法，本文主要介绍构造函数 Date 的使用和时间戳的概念，以及设置计时器和清除计时器的方法">
    <link rel="preload" href="/assets/css/1.styles.3ba0849c.css" as="style"><link rel="preload" href="/assets/js/app.c9e5fd53.js" as="script"><link rel="preload" href="/assets/js/30.c19e4ae3.js" as="script"><link rel="prefetch" href="/assets/js/10.52f4905c.js"><link rel="prefetch" href="/assets/js/11.e87ebd5a.js"><link rel="prefetch" href="/assets/js/12.62e96062.js"><link rel="prefetch" href="/assets/js/13.977553d6.js"><link rel="prefetch" href="/assets/js/14.8736abec.js"><link rel="prefetch" href="/assets/js/15.29717e3e.js"><link rel="prefetch" href="/assets/js/16.fda07970.js"><link rel="prefetch" href="/assets/js/17.61e6ca33.js"><link rel="prefetch" href="/assets/js/18.52fed653.js"><link rel="prefetch" href="/assets/js/19.ac3a6699.js"><link rel="prefetch" href="/assets/js/2.1c57167a.js"><link rel="prefetch" href="/assets/js/20.1736de00.js"><link rel="prefetch" href="/assets/js/21.a802a0e2.js"><link rel="prefetch" href="/assets/js/22.20b545db.js"><link rel="prefetch" href="/assets/js/23.f96a04b7.js"><link rel="prefetch" href="/assets/js/24.38af72da.js"><link rel="prefetch" href="/assets/js/25.27f97d7f.js"><link rel="prefetch" href="/assets/js/26.1671aa90.js"><link rel="prefetch" href="/assets/js/27.2fed06ac.js"><link rel="prefetch" href="/assets/js/28.1e156ab6.js"><link rel="prefetch" href="/assets/js/29.8cd77d02.js"><link rel="prefetch" href="/assets/js/3.508cc7ad.js"><link rel="prefetch" href="/assets/js/31.1827f31f.js"><link rel="prefetch" href="/assets/js/32.6a2da8f3.js"><link rel="prefetch" href="/assets/js/33.aab4a7bf.js"><link rel="prefetch" href="/assets/js/34.cee0531c.js"><link rel="prefetch" href="/assets/js/35.964e4635.js"><link rel="prefetch" href="/assets/js/36.a5be6eb9.js"><link rel="prefetch" href="/assets/js/37.ad091423.js"><link rel="prefetch" href="/assets/js/38.9daab2b6.js"><link rel="prefetch" href="/assets/js/39.7227c324.js"><link rel="prefetch" href="/assets/js/4.fa721afa.js"><link rel="prefetch" href="/assets/js/40.e35a82bf.js"><link rel="prefetch" href="/assets/js/41.2ee2350c.js"><link rel="prefetch" href="/assets/js/42.d09d05da.js"><link rel="prefetch" href="/assets/js/5.bdfc79bb.js"><link rel="prefetch" href="/assets/js/6.8990a9d0.js"><link rel="prefetch" href="/assets/js/7.2d6f7576.js"><link rel="prefetch" href="/assets/js/8.988240f6.js"><link rel="prefetch" href="/assets/js/9.f41768b3.js">
    <link rel="stylesheet" href="/assets/css/1.styles.3ba0849c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="global-container"><div class="head-container"><div class="head-content clearfix"><div class="head-logo"><a href="/"><img src="/meta/logo.png"> <!----></a></div> <div class="head-links"><div class="el-row"><div class="el-col el-col-24 el-col-xs-0 el-col-sm-24"><ul role="menubar" class="head-menu el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-s-home"></i>
                            Index
                        </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-search"></i>
                            Search
                        </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-info"></i>
                            About
                        </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;"><i class="el-icon-link"></i>
                            Links
                        </li></ul></div> <div class="el-col el-col-24 el-col-xs-24 el-col-sm-0"><ul role="menubar" class="head-menu el-menu--horizontal el-menu" style="background-color:;"><li role="menuitem" aria-haspopup="true" class="head-menu-sub el-submenu"><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">Menu<i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-s-home"></i>
                                Index
                            </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-search"></i>
                                Search
                            </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-info"></i>
                                About
                            </li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;"><i class="el-icon-link"></i>
                                Links
                            </li></ul></div></li></ul></div></div></div></div></div> <div class="post-container component-content component-hide"><div class="post-title">JavaScript 日期与计时器</div> <div class="post-tag"><a href="/search/JavaScript"><i class="el-icon-paperclip"></i>
            JavaScript
        </a></div> <div class="post-desc">JavaScript 中日期和计时器是常用的工具方法，本文主要介绍构造函数 Date 的使用和时间戳的概念，以及设置计时器和清除计时器的方法</div> <div class="markdown-content content__default"><h1 id="javascript-日期与计时器"><a href="#javascript-日期与计时器" class="header-anchor">#</a> JavaScript 日期与计时器</h1> <h2 id="date"><a href="#date" class="header-anchor">#</a> Date</h2> <ol><li><p>Date 是一个构造函数，其原型上定义了一些日期方法</p></li> <li><p>Date()</p> <p>执行 Date()，返回表示日期的字符串</p></li> <li><p>new Date()</p> <p>没有参数，返回当前日期实例对象</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Object Date]</span>
date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回年份，如 2020</span>
dae<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回月份减一，加一得到月份</span>
date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回几号，1 到 31</span>
date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回周几，0 到 7，周日开始</span>
date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回小时</span>
date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回分钟</span>
date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回秒数</span>
date<span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回毫秒数</span>
<span class="token comment">// 有 get 同样有 set 方法</span>
</code></pre></div><p>有参数，返回对应的日期</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2020/1/1 8:30:10'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2020/01/01 08:30:10'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2020-1-1 8:30:10'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Sat Feb 01 2020 8:30:10 GMT+0800 (中国标准时间)</span>
</code></pre></div></li> <li><p>getTime()</p> <p>返回时间戳，即毫秒数</p> <p>计算机纪元时间 1970 年 1 月 1 日 0 点 0 分 0 秒</p> <p>时间戳：某个时间距离计算机纪元时间的经过的毫秒数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> dateTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回当前时间的时间戳</span>
<span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回时间戳对应时间</span>
date<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>dateTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 以时间戳为标准设置时间</span>
</code></pre></div></li></ol> <h2 id="计时器"><a href="#计时器" class="header-anchor">#</a> 计时器</h2> <ol><li><p>setInterval</p> <p>每隔特定的毫秒数执行一次内部函数，从当前开始计时</p> <p>返回一个数字，是计时器的唯一标识，代表在所有计时器和延时器中的序号</p> <p>是 window 下的方法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token comment">// 匿名函数</span>
funtion <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span>test<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token string">'test()'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 字符串形式传入方法</span>
</code></pre></div></li> <li><p>clearInterval</p> <p>清除计时器</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// timer 是唯一标识，代表在所有计时器中的序号</span>
<span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol> <h2 id="延时器"><a href="#延时器" class="header-anchor">#</a> 延时器</h2> <ol><li><p>setTimout</p> <p>延迟指定时间执行一次内部函数</p> <p>返回一个数字，是延时器的唯一标识，代表在所有计时器中和延时器的序号</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token comment">// 匿名函数</span>
funtion <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>test<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>clearTimeout</p> <p>清除延时器</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// timer 是唯一标识，代表在所有计时器中的序号</span>
<span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol> <h2 id="定时任务"><a href="#定时任务" class="header-anchor">#</a> 定时任务</h2> <ol><li><p>描述</p> <p>等待条件满足时执行任务，设定时间内条件未满足则执行回调函数</p></li> <li><p>参数</p> <ul><li>re: 判断条件函数，return 要执行 fn 的条件</li> <li>fn: 等待执行的目标函数</li> <li>space: setInterVal 的间隔时间，space || 100</li> <li>wait: setTimeOut 的等待时间，wait || 3000</li> <li>back: fn 未成功执行时回调函数</li></ul></li> <li><p>代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token parameter">re<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> space<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> back</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">re</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">re</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
							interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span> space <span class="token operator">||</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span>interval<span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
							interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
							back <span class="token operator">&amp;&amp;</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span> wait <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
</code></pre></div></li></ol></div> <div class="catalog-container" style="display:none;"><!----> <div class="catalog-open"><i class="el-icon-s-operation"></i></div></div></div> <div class="foot-container"><div class="foot-links"><a href="https://github.com/cadecode" target="_blank">
            Github
        </a><a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=eBsZHB0bFxwdOB4XABUZERRWGxcV" target="_blank">
            Email
        </a><a href="https://www.cnblogs.com/pgjett" target="_blank">
            Cnblogs
        </a></div> <div class="foot-meta"><p>Copyright © 2020 CadeCode</p> <p>
            Theme
            <a href="https://github.com/cadecode/vuepress-theme-2zh" target="_blank">2zh</a>
            powered by
            <a href="https://www.vuepress.cn/" target="_blank">vuepress</a></p></div></div> <div class="backtop-container" style="display:none;"><i class="el-icon-caret-top"></i></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c9e5fd53.js" defer></script><script src="/assets/js/30.c19e4ae3.js" defer></script>
  </body>
</html>
